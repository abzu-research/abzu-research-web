SYSTEM_FOR_CURSOR.md — Abzu Portfolio

0) Mission (one sentence)

Build Abzu, a fast, accessible portfolio site in Next.js 15 + React 19 + Tailwind v4, themed in a cyan‑led palette with subtle gradient/motion ("looking down into the waters of the Abzu"), using our Nimigi/Spotlight-style layout and selectively adapting Cult UI blocks to our tokens.

⸻

1) Current state (source of truth)
	•	Starter project (already generated by Cove):
	•	Download: abzu-starter-with-icons.zip — includes pages, sections, tokens, and icons.
	•	Root map: src/app routes for /, /articles, /articles/[slug], /projects, /speaking, /uses, not-found.tsx.
	•	Theming: src/app/globals.css (Tailwind v4; CSS variables for ink/line/brand + two hero backgrounds:
	•	.bg-radial-abzu (radial cyan depth)
	•	.bg-abstract-abzu (layered "water" painting + gentle drift animation)
	•	UI primitives: src/components/ui — button, input, card, avatar, theme-provider, mode-toggle.
	•	Sections: Navbar, HeroAbout (prop variant: "abstract" | "radial"), ImageStrip, ArticleTimeline, RightRailNewsletter, RightRailWork, ProjectsGrid, SpeakingList, UsesList, Footer, plus MarketingFeatures7 adapter.
	•	Content: JSON placeholders in src/content/* (transition to MDX later).
	•	Icons: public/icons/*, public/favicon.ico, public/site.webmanifest.
	•	Brand assets: public/brand/* (provided marks/wordmarks).
	•	Cult UI zips uploaded (for block mining):
marketing-features-7.zip (primary), marketing-features-6.zip, marketing-hero-9.zip, marketing-hero-12.zip, Cult-UI-Templates.zip.

Non‑goals (for now): auth, CMS, analytics, payments, search modal, comments.

⸻

2) Tech decisions (do this, not that)
	•	Framework: Next 15 App Router, React 19.
	•	Styling: Tailwind v4 only (no external CSS frameworks). Do not introduce Chakra/Mantine/AntD.
	•	Primitives: Prefer our tiny UI components; if a Radix primitive is needed, copy just that file into components/ui/ (shadcn‑style).
	•	Theming: Never hard‑code hex in components. Use CSS variables:
	•	Text: text-(--ink-h1|--ink-body|--ink-sub|--ink-meta)
	•	Borders: border-[--line]
	•	Accent: bg-[--brand-cyan], text-[--brand-cyan]
	•	Motion: Keep it feather‑light; CSS only unless there is a compelling reason otherwise.

⸻

3) IA & page spec (Spotlight‑like)
	•	/ (About): Navbar → Hero (radial or abstract) → 4‑up ImageStrip → ArticleTimeline (left, latest posts) + right rail (Newsletter + Work) → Footer.
	•	/articles: index list → detail at /articles/[slug] using prose + dark:prose-invert.
	•	/projects: 3‑up ProjectsGrid cards.
	•	/speaking: two labeled lists (Conferences, Podcasts).
	•	/uses: definition list grouped by category.
	•	404: simple, on‑brand.

Acceptance: keyboard navigable, visible focus, a11y landmarks, Lighthouse ≥ 95 perf / ≥ 100 a11y on a local run.

⸻

4) Brand & visuals (must‑haves)
	•	Palette (dominant → accents): cyan (primary), with yellow / tangerine / magenta / lime for highlights; white backgrounds and deep cool dark.
	•	Surface style: rounded‑2xl cards, hairline rings (border-[--line]), neutral zinc text, accent links (.link-accent), generous spacing.
	•	Hero look: "looking into water"—use one of:
	•	.bg-abstract-abzu for painterly, animated depth (default),
	•	.bg-radial-abzu for minimal cyan glow.

⸻

5) Content model
	•	Articles: will migrate to MDX (Velite) later. For now JSON stubs exist:
	•	src/content/articles/index.json, bodies.json.
	•	Projects/Speaking/Uses: JSON in src/content.
	•	Person/Work: right‑rail data in work.json.

When MDX is added, keep the data types aligned with the Nimigi blueprint (Article, Project, SpeakingSection, UsesCategory).

⸻

6) Cult UI integration plan

Goal: import specific blocks as code, then re‑skin to our tokens. No runtime dependency or global CSS collisions.
	1.	Features section
	•	Source: marketing-features-7.zip (preferred aesthetics).
	•	Destination: src/components/sections/MarketingFeatures7Cult.tsx.
	•	Replace colors:
	•	text-zinc-600 → text-ink-body/80
	•	text-zinc-900 → text-ink-h1
	•	border-zinc-200 → border-[--line]
	•	primary accents → text-[--brand-cyan] / bg-[--brand-cyan]
	•	Export a prop shape: { title: string; intro?: string; items: { k?: string; title: string; desc: string }[] }.
	2.	Hero variants
	•	If grabbing "Radial Gradient Background" or "Abstract Painting" hero files, strip any conflicting global CSS; map to .bg-radial-abzu / .bg-abstract-abzu wrappers.
	•	Use the existing HeroAbout's variant prop to toggle.
	3.	File hygiene
	•	Keep everything under src/components/sections/… or src/components/ui/….
	•	No globals.css changes from external blocks unless translated to our var‑based patterns.

⸻

7) Task board (Cursor can execute in order)

Milestone A — Baseline polish
	1.	Replace placeholder copy on / and /articles with better demo text.
	2.	Add MarketingFeatures7Cult under the hero on / with 6 items.
	3.	Ensure Navbar tabs have aria-current="page".
Acceptance: No console warnings; Lighthouse a11y 100.

Milestone B — Theming rigor
4. Audit all components: no raw hex; replace with var(--…).
5. Add utility classes for text-ink-sub and text-ink-meta where missing.
6. Verify dark mode contrast on links and meta text.
Acceptance: WCAG AA on text (use our ink pairs).

Milestone C — Content plumbing (optional now)
7. Add Velite or Contentlayer for MDX; port articles/* JSON → MDX files.
8. Add feed.xml and sitemap.
Acceptance: /feed.xml returns latest posts; Next static params generated for slugs.

Milestone D — SEO & PWA
9. Add JSON‑LD for Article and Person on relevant pages.
10. Confirm site.webmanifest is linked via metadata; icons render on iOS/Android.
Acceptance: Rich results test shows Article schema; PWA installable.

Milestone E — Performance
11. Optimize hero for CLS (no layout shift); keep images loading="lazy" where offscreen.
12. Perf budget: < 60KB CSS at first paint, no blocking scripts.
Acceptance: Lighthouse Performance ≥ 95 on a cold run.

⸻

8) Running locally

pnpm i
pnpm dev
# open http://localhost:3000


⸻

9) Coding conventions
	•	Tailwind v4 custom values: text-(--ink-body) etc.
	•	Components: colocate with minimal logic; props typed; no any.
	•	Accessibility: visible focus rings (focus-visible:ring-2 ring-[--brand-cyan] ring-offset-2), semantic headings (h1 once per page).
	•	Commit style: feat:, fix:, style:, refactor:, chore:, docs:.

⸻

10) Definition of Done
	•	Pages render with no console errors.
	•	All colors via tokens; dark mode correct.
	•	Keyboard navigation & focus rings everywhere.
	•	Lighthouse: ≥ 95 perf, 100 a11y, ≥ 95 SEO.
	•	No external UI frameworks; only Tailwind v4 + our code (Radix allowed per‑primitive if needed, copied locally).

⸻

Appendix: Important paths
	•	Theming: src/app/globals.css
	•	Hero wrappers: src/components/brand/gradients.tsx
	•	Sections: src/components/sections/*
	•	UI: src/components/ui/*
	•	Content: src/content/*
	•	Icons & PWA: public/icons/*, public/site.webmanifest

⸻

If Cursor needs assets, use the ones in public/brand.
If Cursor needs the project: grab abzu-starter-with-icons.zip, unzip, run.

That's the whole map. Cursor: take the tasks in Milestone A first, then continue in order.
